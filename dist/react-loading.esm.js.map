{"version":3,"file":"react-loading.esm.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { createContext, ReactNode, useContext, useState } from 'react'\n\ninterface LoadingContextInterface {\n  loading: boolean\n  setLoading: (b: boolean) => void\n}\n\nconst LoadingContext = createContext<LoadingContextInterface | null>(null)\n\nexport interface LoadingProviderProps {\n  children: ReactNode\n  component?: ReactNode\n}\n\nexport function LoadingProvider({ children, component }: LoadingProviderProps) {\n  const [loading, setLoading] = useState(false)\n  const value = { loading, setLoading }\n  return (\n    <LoadingContext.Provider value={value}>\n      {loading && component}\n      {children}\n    </LoadingContext.Provider>\n  )\n}\n\nexport function useLoading() {\n  const context = useContext(LoadingContext)\n  if (!context) {\n    throw new Error('useLoading must be used within LoadingProvider')\n  }\n  return context\n}\n\nexport function useAsync(func: () => Promise<any>) {\n  const { setLoading } = useLoading()\n  return async () => {\n    setLoading(true)\n    func().finally(() => setLoading(false))\n  }\n}\n"],"names":["LoadingContext","createContext","LoadingProvider","children","component","useState","loading","setLoading","value","React","Provider","useLoading","context","useContext","Error","useAsync","func"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASA,IAAMA,cAAc,gBAAGC,aAAa,CAAiC,IAAjC,CAApC;SAOgBC;MAAkBC,gBAAAA;MAAUC,iBAAAA;;EAC1C,gBAA8BC,QAAQ,CAAC,KAAD,CAAtC;MAAOC,OAAP;MAAgBC,UAAhB;;EACA,IAAMC,KAAK,GAAG;IAAEF,OAAO,EAAPA,OAAF;IAAWC,UAAU,EAAVA;GAAzB;EACA,OACEE,aAAA,CAACT,cAAc,CAACU,QAAhB;IAAyBF,KAAK,EAAEA;GAAhC,EACGF,OAAO,IAAIF,SADd,EAEGD,QAFH,CADF;AAMD;SAEeQ;EACd,IAAMC,OAAO,GAAGC,UAAU,CAACb,cAAD,CAA1B;;EACA,IAAI,CAACY,OAAL,EAAc;IACZ,MAAM,IAAIE,KAAJ,CAAU,gDAAV,CAAN;;;EAEF,OAAOF,OAAP;AACD;SAEeG,SAASC;EACvB,kBAAuBL,UAAU,EAAjC;MAAQJ,UAAR,eAAQA,UAAR;;EACA,+EAAO;IAAA;MAAA;QAAA;UAAA;YACLA,UAAU,CAAC,IAAD,CAAV;YACAS,IAAI,aAAJ,CAAe;cAAA,OAAMT,UAAU,CAAC,KAAD,CAAhB;aAAf;;UAFK;UAAA;YAAA;;;;GAAP;AAID;;;;"}